<div align="center">
  <img height="100" src="./readme/wanted_logo.png" />
  <h3>í”„ë¦¬ì˜¨ë³´ë”© í”„ë¡ íŠ¸ì—”ë“œ ì±Œë¦°ì§€ 1ì›”</h3>
  <br /><br />
</div>

## ëª©ì°¨

- ğŸš€ [í”„ë¡œì íŠ¸ ì‹¤í–‰](#í”„ë¡œì íŠ¸-ì‹¤í–‰)
- ğŸ”¥ [ì‚¬ìš©í•œ ê¸°ìˆ ](#ì‚¬ìš©í•œ-ê¸°ìˆ )
- ğŸ“‘ [í”„ë¡œì íŠ¸ êµ¬ì¡°](#í”„ë¡œì íŠ¸-êµ¬ì¡°)
- âš™ [ì£¼ìš” ê¸°ëŠ¥](#ì£¼ìš”-ê¸°ëŠ¥)
- ğŸ§· [API ìŠ¤í™](#API-ìŠ¤í™)

## í”„ë¡œì íŠ¸ ì‹¤í–‰

1. `git clone https://github.com/GitHubGW/wanted-pre-onboarding-challenge-fe-1`ë¥¼ í†µí•´ ë¦¬í¬ì§€í† ë¦¬ë¥¼ í´ë¡ í•©ë‹ˆë‹¤.
2. `npm install`ì„ í†µí•´ í•„ìš”í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì„¤ì¹˜í•©ë‹ˆë‹¤.
3. `npm start`ë¥¼ í†µí•´ í”„ë¡œì íŠ¸ë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤.

```
git clone https://github.com/GitHubGW/wanted-pre-onboarding-challenge-fe-1
npm install
npm start
```

## ì‚¬ìš©í•œ ê¸°ìˆ 

- `React`

  - ReactëŠ” ì£¼ë¡œ SPAë¥¼ ìœ„í•œ ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ë¥¼ ë§Œë“œëŠ” ë° ì‚¬ìš©ë˜ëŠ” Javascript ë¼ì´ë¸ŒëŸ¬ë¦¬ì…ë‹ˆë‹¤.
  - ë‹¨ë°©í–¥ ë°ì´í„° íë¦„ì„ í†µí•´ ë°ì´í„° íë¦„ ë° ë³€í™”ë¥¼ ì˜ˆì¸¡í•˜ê¸° ì‰½ê³ , ì»´í¬ë„ŒíŠ¸ ê¸°ë°˜ êµ¬ì¡°ë¥¼ í†µí•´ ì¬ì‚¬ìš©ì„±ê³¼ ì½”ë“œ ê´€ë¦¬ ë° ìœ ì§€ë³´ìˆ˜ë¥¼ ìœ„í•´ ì‚¬ìš©í•˜ì˜€ìŠµë‹ˆë‹¤.

- `NextJS`

  - Next.jsëŠ” ì„œë²„ì‚¬ì´ë“œ ë Œë”ë§, ì •ì  í˜ì´ì§€ ìƒì„± ë“± ë¦¬ì•¡íŠ¸ ê¸°ë°˜ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ê¸°ëŠ¥ì„ ìœ„í•œ ì›¹ ê°œë°œ í”„ë ˆì„ì›Œí¬ì…ë‹ˆë‹¤.

- `Typescript`

  - TypescriptëŠ” Javascript ìŠˆí¼ì…‹ ì–¸ì–´ì…ë‹ˆë‹¤.
  - íƒ€ì…ì„ ë¯¸ë¦¬ ì§€ì •í•´ì„œ ëŸ°íƒ€ì„ ì´ì „ ë‹¨ê³„ì—ì„œ ë¯¸ë¦¬ ì—ëŸ¬ë¥¼ í™•ì¸í•  ìˆ˜ ìˆê³ , ì½”ë“œ ìë™ ì™„ì„± ë° ë””ë²„ê¹…ì„ ìœ„í•´ ì‚¬ìš©í•˜ì˜€ìŠµë‹ˆë‹¤.

- `React Query`

  - React QueryëŠ” ë°ì´í„° Fetching, ìºì‹±, ë™ê¸°í™”, ì„œë²„ ìª½ ë°ì´í„° ì—…ë°ì´íŠ¸ ë“±ì„ ìœ„í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ì…ë‹ˆë‹¤.
  - ê° í˜ì´ì§€ì—ì„œ ê³µí†µìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ì „ì—­ ìƒíƒœê°€ ì ê³  ì„œë²„ ìª½ ë°ì´í„°ë“¤ì„ ê°„í¸í•˜ê³  íš¨ìœ¨ì ìœ¼ë¡œ ê´€ë¦¬í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•˜ì˜€ìŠµë‹ˆë‹¤.

- `React Hook Form`

  - React Hook Formì€ Reactì—ì„œ Formì„ ì œì–´í•˜ê³  ìœ íš¨ì„± ê²€ì‚¬ ë° ì—ëŸ¬ë¥¼ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ì…ë‹ˆë‹¤.
  - ì „ì²´ ì½”ë“œ ì–‘ì„ ì¤„ì´ê³ , ì¼ê´€ì ì¸ ì½”ë“œ ì‘ì„± ë° ìœ ì§€ë³´ìˆ˜, ë Œë”ë§ ì´ìŠˆ ë“±ì„ í•´ê²°í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•˜ì˜€ìŠµë‹ˆë‹¤.

- `Tailwind CSS`
  - Tailwind CSSëŠ” ìœ í‹¸ë¦¬í‹° í¼ìŠ¤íŠ¸(Utility-first)ë¥¼ ì§€í–¥í•˜ëŠ” ì˜¤í”ˆ ì†ŒìŠ¤ CSS í”„ë ˆì„ì›Œí¬ì…ë‹ˆë‹¤.
  - ì¼ê´€ëœ ë””ìì¸ê³¼ ììœ ë¡œìš´ ì»¤ìŠ¤í„°ë§ˆì´ì§• ë° ìƒì‚°ì„±ì„ ìœ„í•´ ì‚¬ìš©í•˜ì˜€ìŠµë‹ˆë‹¤.

## í”„ë¡œì íŠ¸ êµ¬ì¡°

- api : API ê´€ë¦¬
- components : ì»´í¬ë„ŒíŠ¸ ê´€ë¦¬
- constants : ìƒìˆ˜ ê´€ë¦¬
- pages : ë¼ìš°íŒ… ê´€ë¦¬
- queries : ë¦¬ì•¡íŠ¸ ì¿¼ë¦¬ ê´€ë¦¬
- styles : ìŠ¤íƒ€ì¼ ê´€ë¦¬
- types : ê³µí†µ íƒ€ì… ê´€ë¦¬
- utils : ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ ê´€ë¦¬

```bash
 â”£ api
 â”ƒ â”£ auth.ts
 â”ƒ â”— todo.ts
 â”£ components
 â”ƒ â”£ layouts
 â”ƒ â”ƒ â”— MainLayout.tsx
 â”ƒ â”£ AuthForm.tsx
 â”ƒ â”£ FormError.tsx
 â”ƒ â”£ TodoDetail.tsx
 â”ƒ â”£ TodoDetailItem.tsx
 â”ƒ â”£ TodoForm.tsx
 â”ƒ â”£ TodoItem.tsx
 â”ƒ â”— TodoList.tsx
 â”£ constants
 â”ƒ â”£ auth.ts
 â”ƒ â”£ common.ts
 â”ƒ â”— queryKeys.ts
 â”£ pages
 â”ƒ â”£ _app.tsx
 â”ƒ â”£ _document.tsx
 â”ƒ â”£ auth.tsx
 â”ƒ â”— index.tsx
 â”£ queries
 â”ƒ â”£ useAuthMutate.ts
 â”ƒ â”£ useTodoMutate.ts
 â”ƒ â”— useTodoQuery.ts
 â”£ styles
 â”ƒ â”— globals.css
 â”£ types
 â”ƒ â”£ auth.ts
 â”ƒ â”— todo.ts
 â”£ utils
 â”ƒ â”— localStorage.ts
```

## ì£¼ìš” ê¸°ëŠ¥

### íšŒì›ê°€ì…, ë¡œê·¸ì¸, ë¡œê·¸ì•„ì›ƒ

- /auth ê²½ë¡œì— ë¡œê·¸ì¸ ë° íšŒì›ê°€ì… ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤.
- íšŒì›ê°€ì… ë° ë¡œê·¸ì¸ ì„±ê³µ ì‹œ, ì „ë‹¬ë°›ì€ í† í°ì„ ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— ì €ì¥í•˜ê³  ë£¨íŠ¸ ê²½ë¡œë¡œ ì´ë™ì‹œí‚µë‹ˆë‹¤.
- ë¡œê·¸ì•„ì›ƒ ì‹œ, ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— ì €ì¥ëœ í† í°ì„ ì‚­ì œí•˜ê³  /auth ê²½ë¡œë¡œ ì´ë™ì‹œí‚µë‹ˆë‹¤.

```tsx
// components/AuthForm.tsx
const { useSignUpMutation, useLoginMutation } = useAuthMutation();
const { mutateAsync: signUpMutateAsync, data: signUpData } = useSignUpMutation();
const { mutateAsync: loginMutateAsync, data: loginData } = useLoginMutation();

const onValid = useCallback(
  async (formData: FormData) => {
    if (status === AUTH_STATE.SIGN_UP) {
      const result = await signUpMutateAsync(formData);
      if (result.token) {
        reset();
        setLocalStorageItem(result.token);
        setStatus(AUTH_STATE.LOGIN);
      }
    } else {
      const result = await loginMutateAsync(formData);
      if (result.token) {
        reset();
        setLocalStorageItem(result.token);
        router.push("/");
      }
    }
  },
  [status, reset, router, signUpMutateAsync, loginMutateAsync]
);
```

- `React Hook Form`ì„ ì‚¬ìš©í•˜ì—¬ formì„ ì œì–´í•˜ê³ , ì´ë©”ì¼ê³¼ ë¹„ë°€ë²ˆí˜¸ì˜ ìœ íš¨ì„± í™•ì¸ ë° ì—ëŸ¬ë¥¼ ëŒ€ì‘í•©ë‹ˆë‹¤.

```tsx
<input
  {...register("email", {
    required: "ì´ë©”ì¼ì€ í•„ìˆ˜ì…ë‹ˆë‹¤.",
    validate: (value) => {
      const isValidText = value.includes("@") && value.includes(".");
      return isValidText || "ì´ë©”ì¼ì—ëŠ” @ì™€ .ì´ í¬í•¨ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.";
    },
  })}
  required
  type="email"
  id="emailInput"
/>
<FormError text={errors.email?.message} />
```

### íˆ¬ë‘ ìƒì„±, ìˆ˜ì •, ì‚­ì œ

- íˆ¬ë‘ ì¶”ê°€ ë° ì‚­ì œ ë²„íŠ¼ì„ í´ë¦­í•´ í•  ì¼ì„ ìƒì„±í•˜ê±°ë‚˜ ì‚­ì œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- íˆ¬ë‘ ìˆ˜ì • ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ ìˆ˜ì • ëª¨ë“œê°€ í™œì„±í™”ë˜ê³ , ìˆ˜ì • ë‚´ìš©ì„ ì œì¶œí•˜ê±°ë‚˜ ì·¨ì†Œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```tsx
// components/TodoForm.tsx
const { useCreateTodoMutation, useUpdateTodoMutation } = useTodoMutation();
const { mutate: createTodoMutate } = useCreateTodoMutation();
const { mutate: updateTodoMutate } = useUpdateTodoMutation();

const onValid = useCallback(
  (formData: FormData) => {
    if (isUpdating && id && handleToggleTodo) {
      handleToggleTodo();
      reset();
      updateTodoMutate({ id, title: formData.title, content: formData.content });
    } else {
      reset();
      createTodoMutate({ title: formData.title, content: formData.content });
    }
  },
  [updateTodoMutate, createTodoMutate, handleToggleTodo, isUpdating, id, reset]
);
```

- ìˆ˜ì •í•œ íˆ¬ë‘ì˜ ë‚´ìš©ì€ ì „ì²´ íˆ¬ë‘ ëª©ë¡ ë° íˆ¬ë‘ ìƒì„¸ì— ì‹¤ì‹œê°„ìœ¼ë¡œ ë°˜ì˜ë©ë‹ˆë‹¤.
- ìˆ˜ì •í•œ íˆ¬ë‘ì˜ ë‚´ìš©ì„ ì‹¤ì‹œê°„ìœ¼ë¡œ ë°˜ì˜í•˜ê¸° ìœ„í•´ `React Query`ì˜ invalidateQueries ë©”ì„œë“œë¥¼ í†µí•´ ê¸°ì¡´ì— ì¡°íšŒí–ˆë˜ ì¿¼ë¦¬ë¥¼ ë¬´íš¨í™”ì‹œí‚¤ê³  ë°ì´í„°ë¥¼ ìƒˆë¡œ ì¡°íšŒí•´ì˜¤ë„ë¡ í•©ë‹ˆë‹¤.
- invalidateQueries ë©”ì„œë“œëŠ” ì „ë‹¬ë°›ì€ ì¿¼ë¦¬ í‚¤ì— í•´ë‹¹í•˜ëŠ” ëª¨ë“  ì¿¼ë¦¬ë¥¼ ë¬´íš¨í™”í•©ë‹ˆë‹¤.

```ts
// queries/useTodoMutation.ts
const useUpdateTodoMutation = () => {
  return useMutation({
    mutationFn: (params: UpdateTodoParams) => TodoApi.updateTodo({ id: params.id, title: params.title, content: params.content }),
    onSuccess: (response) => {
      queryClient.invalidateQueries(QUERY_KEYS.TODO.GET_TODOS());
      queryClient.invalidateQueries(QUERY_KEYS.TODO.GET_TODO_BY_ID(response.data.id));
    },
    onError: (error) => {
      console.log("useUpdateTodo onError", error);
    },
  });
};
```

### ì „ì²´ íˆ¬ë‘ ì¡°íšŒ ë° ìƒì„¸ ì¡°íšŒ

- ì „ì²´ íˆ¬ë‘ ëª©ë¡ê³¼ ê°ê°ì˜ íˆ¬ë‘ì˜ ìƒì„¸ ë‚´ìš©ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```tsx
// components/TodoList.tsx
const TodoList = () => {
  const { useGetTodosQuery } = useTodoQuery();
  const { data: todosData, isLoading } = useGetTodosQuery();

  if (isLoading) {
    return "Loading...";
  }

  return <div>{todosData?.data && [...todosData?.data]?.reverse().map((item) => <TodoItem key={item.id} id={item.id} title={item.title} createdAt={item.createdAt} />)}</div>;
};

// components/TodoDetail.tsx
const TodoDetail = () => {
  const { useGetTodoByIdQuery } = useTodoQuery();
  const { data: todoData } = useGetTodoByIdQuery({ id: String(router.query.id) });

  return (
    <div>
      {todoData?.data && !isUpdating && (
        <TodoDetailItem title={todoData.data.title} content={todoData.data.content} createdAt={todoData.data.createdAt} updatedAt={todoData.data.updatedAt} />
      )}
    </div>
  );
};
```

## API ìŠ¤í™

### login

- POST /users/login
- Parameter
  - email: string
  - password: string

### signUp

- POST /users/create
- Parameter
  - email: string
  - password: string

### getTodos

- GET /todos
- Headers
  - Authorization: login token

### getTodoById

- GET /todos/:id
- Headers
  - Authorization: login token

### createTodo

- POST /todos
- Parameter
  - title: string
  - content: string
- Headers
  - Authorization: login token

### updateTodo

- PUT /todos/:id
- Parameter
  - title: string
  - content: string
- Headers
  - Authorization: login token

### deleteTodo

- DELETE /todos/:id
- Headers
  - Authorization: login token
